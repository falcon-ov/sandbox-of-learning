–í–æ—Ç –≥–æ—Ç–æ–≤–æ–µ **—Ç–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ** —Ñ–æ—Ä–º–∞—Ç–∞ ¬´–∫–∞–∫ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏¬ª, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å CRUD REST-API –¥–ª—è CovidCase + –Ω–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã —Å Mockito. –ú–æ–∂–µ—à—å –≤—Å—Ç–∞–≤–∏—Ç—å —ç—Ç–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç –∏–ª–∏ —Å–¥–∞—Ç—å –∫–∞–∫ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–¥–∞—á–∏.

---

# üß™ **–¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ: Covid REST API (Spring Boot + JPA + Mockito Tests)**

## üìå **–û–ø–∏—Å–∞–Ω–∏–µ**

–ù—É–∂–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å REST-—Å–µ—Ä–≤–∏—Å –Ω–∞ **Spring Boot**, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–ª—É—á–∞–µ–≤ COVID-19.
–í –∫–∞—á–µ—Å—Ç–≤–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **H2** (–≤ –ø–∞–º—è—Ç–∏) –∏–ª–∏ PostgreSQL.
–î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º ‚Äî —á–µ—Ä–µ–∑ **Spring Data JPA**.

–ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äî –Ω–∞–ø–∏—Å–∞—Ç—å **—é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã —Å Mockito** –¥–ª—è —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Å–ª–æ—è.

---

# 1Ô∏è‚É£ **–ß–∞—Å—Ç—å 1 ‚Äî –†–µ–∞–ª–∏–∑–∞—Ü–∏—è CRUD + REST**

## 1.1. **–°—É—â–Ω–æ—Å—Ç—å CovidCase**

–°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å:

```java
@Entity
public class CovidCase {

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    private String region;
    private Integer infected;
    private Integer recovered;
    private Integer deaths;

    // getters/setters
}
```

---

## 1.2. **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**

–°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:

```java
public interface CovidCaseRepository extends JpaRepository<CovidCase, Long> {
}
```

---

## 1.3. **–°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π**

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å:

* create (POST)
* read (GET)
* update (PUT)
* delete (DELETE)
* top 5 –ø–æ –ø–æ–ª—é
* total –ø–æ –ø–æ–ª—é

---

## 1.4. **REST-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä**

–°–æ–∑–¥–∞—Ç—å `@RestController`, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ endpoints:

| –û–ø–µ—Ä–∞—Ü–∏—è       | –ú–µ—Ç–æ–¥  | URL                       |
| -------------- | ------ | ------------------------- |
| –°–æ–∑–¥–∞—Ç—å        | POST   | `/covid`                  |
| –ü–æ–ª—É—á–∏—Ç—å –ø–æ id | GET    | `/covid/{id}`             |
| –û–±–Ω–æ–≤–∏—Ç—å       | PUT    | `/covid/{id}`             |
| –£–¥–∞–ª–∏—Ç—å        | DELETE | `/covid/{id}`             |
| –¢–æ–ø 5 –ø–æ –ø–æ–ª—é  | GET    | `/covid/top5?by=infected` |
| –°—É–º–º–∞ –ø–æ –ø–æ–ª—é  | GET    | `/covid/total?by=deaths`  |

–ü–æ–ª—è –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ `by` –¥–æ–ª–∂–Ω—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è:

* `infected`
* `recovered`
* `deaths`

---

# 2Ô∏è‚É£ **–ß–∞—Å—Ç—å 2 ‚Äî –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ REST**

## 2.1. **top5?by=field**

–ü—Ä–∏–º–µ—Ä:

```
GET /covid/top5?by=infected
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–ø-5 —Ä–µ–≥–∏–æ–Ω–æ–≤ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º –∑–∞—Ä–∞–∂—ë–Ω–Ω—ã—Ö.

---

## 2.2. **total?by=field**

–ü—Ä–∏–º–µ—Ä:

```
GET /covid/total?by=deaths
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —Å—É–º–º—É —Å–º–µ—Ä—Ç–µ–π –≤–æ –≤—Å–µ—Ö –∑–∞–ø–∏—Å—è—Ö.

---

# 3Ô∏è‚É£ **–ß–∞—Å—Ç—å 3 ‚Äî –ù–∞–ø–∏—Å–∞—Ç—å —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã (Mockito)**

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å **—Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π**, –∑–∞–º–æ–∫–∞–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

## –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

### ‚úî create

‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—É—â–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

### ‚úî getById

‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç,
‚Äî –±—Ä–æ—Å–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω.

### ‚úî update

‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

### ‚úî delete

‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `deleteById`.

### ‚úî top5

‚Äî —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

### ‚úî total

‚Äî —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

---

# –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–µ—Å—Ç–æ–≤

```java
@ExtendWith(MockitoExtension.class)
class CovidCaseServiceTest {

    @Mock
    private CovidCaseRepository repository;

    @InjectMocks
    private CovidCaseService service;

    @Test
    void testCreate() {
        CovidCase c = new CovidCase();
        c.setRegion("Test");

        when(repository.save(any())).thenReturn(c);

        CovidCase result = service.create(c);

        assertEquals("Test", result.getRegion());
        verify(repository).save(any());
    }

    @Test
    void testGetById() {
        CovidCase c = new CovidCase();
        c.setId(1L);

        when(repository.findById(1L)).thenReturn(Optional.of(c));

        CovidCase result = service.getById(1L);

        assertEquals(1L, result.getId());
    }
}
```

---

# 4Ô∏è‚É£ **–ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏**

‚úî –ö–æ–¥ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
‚úî CRUD —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úî –¢—Ä–∏ REST-–∑–∞–¥–∞—á–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
‚úî –ï—Å—Ç—å –º–∏–Ω–∏–º—É–º 8 —é–Ω–∏—Ç-—Ç–µ—Å—Ç–æ–≤
‚úî –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã Mockito + JUnit 5
‚úî –ö–æ–¥ —á–∏—Ç–∞–±–µ–ª—å–Ω—ã–π, –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî –º–æ–≥—É **—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π –≥–æ—Ç–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç** (—Å—É—â–Ω–æ—Å—Ç–∏, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, —Å–µ—Ä–≤–∏—Å—ã, —Ç–µ—Å—Ç—ã), –∏–ª–∏ –ø–æ–º–æ—á—å –Ω–∞–ø–∏—Å–∞—Ç—å –ª—é–±—É—é —á–∞—Å—Ç—å.
